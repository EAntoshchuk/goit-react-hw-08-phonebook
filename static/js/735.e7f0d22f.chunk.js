"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[735],{735:function(t,e,n){n.r(e),n.d(e,{default:function(){return L}});var r=n(434),a=n(791),c=n(861),s=n(757),u=n.n(s),o=n(382),i=n(243);i.Z.defaults.baseURL="https://connections-api.herokuapp.com";var l=(0,o.hg)("contacts/fetchAll",function(){var t=(0,c.Z)(u().mark((function t(e,n){var r,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,i.Z.get("/contacts");case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),m=(0,o.hg)("contacts/addContact",function(){var t=(0,c.Z)(u().mark((function t(e,n){var r,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,i.Z.post("/contacts",e);case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),d=((0,o.hg)("contacts/deleteContact",function(){var t=(0,c.Z)(u().mark((function t(e,n){var r,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,i.Z.delete("contacts/".concat(e));case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),n(447)),p=n(439),f=function(t){return t.contacts.contacts},h="ContactForm_form__dhl+T",_="ContactForm_form_title__qzRJd",v="ContactForm_form_label__KFrv0",x="ContactForm_form_input__juvV+",b="ContactForm_btn__wll+u",j=n(184);function g(){var t=(0,r.I0)(),e=(0,a.useState)(""),n=(0,p.Z)(e,1)[0],c=(0,r.v9)(f);return(0,j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=e.target,a=r.elements.name.value,s=r.elements.number.value;c.find((function(t){return t.name===a}))?alert("".concat(n," is already in contacts")):t(m({name:a,number:s})).unwrap().then((function(){return alert("".concat(n," added to contacts"))})).catch((function(){return alert("Something went wrong")})),r.reset()},className:h,children:[(0,j.jsxs)("label",{className:v,children:[(0,j.jsx)("div",{className:_,children:"Name"}),(0,j.jsx)("input",{className:x,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,j.jsxs)("label",{className:v,children:[(0,j.jsx)("div",{className:_,children:"Number"}),(0,j.jsx)("input",{className:x,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,j.jsx)("button",{type:"submit",className:b,children:"Add contact"})]})}var C={},N="Contact_contact_item__mJZLG",w="Contact_contact_name__KlaAk",y="Contact_contact_number__cJsZg",Z="Contact_btn__fArF3",k=n(293);function F(t){var e=t.id,n=t.name,a=t.number,c=(0,r.I0)();return(0,j.jsxs)("li",{className:N,children:[(0,j.jsxs)("p",{className:w,children:[n,":"]}),(0,j.jsx)("p",{className:y,children:a}),(0,j.jsx)("button",{name:"btnDelete",className:Z,onClick:function(){return function(t){return c((0,k.GK)(t))}(e)},children:"Delete"})]},e)}function A(){var t=function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}((0,r.v9)((function(t){return t.contacts.contacts})),(0,r.v9)((function(t){return t.filter.filter})));return(0,j.jsx)("ul",{className:C.contacts_list,children:t.map((function(t){var e=t.id,n=t.name,r=t.number;return(0,j.jsx)(F,{name:n,number:r,id:e},e)}))})}var z="Filter_filter_label__5ITod",I="Filter_filter_title__rQ8q-",q="Filter_filter_input__eu2zm",B=n(895),J=function(){var t=(0,r.I0)(),e=(0,r.v9)((function(t){return t.filter.filter}));return(0,j.jsxs)("label",{className:z,children:[(0,j.jsx)("div",{className:I,children:"Filter by contact name"}),(0,j.jsx)("input",{className:q,type:"text",name:"filter",id:"filter",value:e,onChange:function(e){t((0,B.x)(e.currentTarget.value))}})]})};function L(){var t=(0,r.v9)((function(t){return t})).contacts,e=t.loading,n=t.error,c=(0,r.I0)();return(0,a.useEffect)((function(){c(l())}),[c]),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{marginBottom:"20px",padding:"20px"},children:[(0,j.jsx)("h1",{style:{marginBottom:"20px"},children:"Phonebook"}),(0,j.jsx)(g,{})]}),(0,j.jsxs)("div",{style:{padding:"20px"},children:[(0,j.jsx)("h2",{style:{marginBottom:"20px"},children:"Contacts"}),(0,j.jsx)(J,{}),e&&!n&&(0,j.jsx)(d.Z,{}),(0,j.jsx)(A,{})]})]})}}}]);
//# sourceMappingURL=735.e7f0d22f.chunk.js.map